<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta name="theme-color" content="#21808D">
<meta name="description" content="Focusly ADHD v2.1 - App produttivit√† ADHD con Matrice Eisenhower, notifiche, promemoria salute. ¬© 2025 Edoardo Lucchina">
<title>Focusly ADHD v2.1</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--teal-500:#21808D;--teal-400:#32B8C6;--red-500:#ef4444;--green-500:#10b981;--orange-500:#f59e0b;--gray-500:#6b7280;--blue-500:#3b82f6}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#FCFCF9;color:#1a1a1a;line-height:1.6;overflow-x:hidden}
.app-header{background:#fff;padding:16px 20px;box-shadow:0 1px 3px rgba(0,0,0,.1);position:sticky;top:0;z-index:100}
.header-content{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}
.app-title{font-size:18px;font-weight:700;color:var(--teal-500)}
.level-badge{background:linear-gradient(135deg,var(--teal-500),var(--teal-400));color:#fff;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600}
.main-content{max-width:1200px;margin:0 auto;padding:20px;padding-bottom:100px}
.tab-panel{display:none;animation:fadeIn .3s}
.tab-panel.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.stats-bar{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:20px}
.stat-item{background:#fff;padding:16px;border-radius:12px;display:flex;align-items:center;gap:12px;box-shadow:0 1px 3px rgba(0,0,0,.1)}
.stat-icon{font-size:28px}
.stat-value{font-size:20px;font-weight:700}
.stat-label{font-size:12px;color:#6c757d}
.progress-section{background:#fff;padding:20px;border-radius:16px;margin-bottom:24px;box-shadow:0 1px 3px rgba(0,0,0,.1)}
.progress-header{display:flex;justify-content:space-between;margin-bottom:12px;font-size:14px;font-weight:600;color:#6c757d}
.progress-bar{height:12px;background:#e5e7eb;border-radius:6px;overflow:hidden}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--teal-500),var(--teal-400));border-radius:6px;transition:width .5s}
.eisenhower-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}
.quadrant{background:#fff;border-radius:16px;padding:20px;min-height:300px;box-shadow:0 2px 8px rgba(0,0,0,.1)}
.quadrant-header{margin-bottom:16px;padding-bottom:12px;border-bottom:2px solid}
.quadrant-header h3{font-size:16px;margin:0 0 4px;font-weight:700}
.quadrant-subtitle{font-size:13px;opacity:.8;font-weight:600}
.q1{border-top:4px solid var(--red-500)}
.q1 .quadrant-header{border-color:var(--red-500);color:var(--red-500)}
.q2{border-top:4px solid var(--green-500)}
.q2 .quadrant-header{border-color:var(--green-500);color:var(--green-500)}
.q3{border-top:4px solid var(--orange-500)}
.q3 .quadrant-header{border-color:var(--orange-500);color:var(--orange-500)}
.q4{border-top:4px solid var(--gray-500)}
.q4 .quadrant-header{border-color:var(--gray-500);color:var(--gray-500)}
.task-list{display:flex;flex-direction:column;gap:12px}
.task-item{background:#f8f9fa;padding:12px;border-radius:8px;display:flex;align-items:flex-start;gap:12px;cursor:pointer;transition:all .2s}
.task-item:hover{background:#f3f4f6;transform:translateX(4px)}
.task-checkbox{width:20px;height:20px;border:2px solid var(--gray-500);border-radius:6px;flex-shrink:0;margin-top:2px;cursor:pointer;transition:all .2s}
.task-checkbox.checked{background:var(--teal-500);border-color:var(--teal-500);position:relative}
.task-checkbox.checked::after{content:'‚úì';color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:14px;font-weight:700}
.task-title{font-size:14px;font-weight:600}
.task-description{font-size:12px;color:#6c757d}
.task-item.completed .task-title{text-decoration:line-through;opacity:.6}
.fab{position:fixed;bottom:80px;right:20px;width:60px;height:60px;background:linear-gradient(135deg,var(--teal-500),var(--teal-400));border:none;border-radius:50%;box-shadow:0 4px 20px rgba(33,128,141,.4);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:transform .3s;z-index:99}
.fab:hover{transform:scale(1.1)}
.fab-icon{font-size:32px;color:#fff;line-height:1}
.modal{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);backdrop-filter:blur(8px);z-index:1000;padding:20px;overflow-y:auto;align-items:center;justify-content:center}
.modal.show{display:flex}
.modal-content{background:#fff;border-radius:20px;max-width:500px;width:100%;box-shadow:0 20px 60px rgba(0,0,0,.3);animation:slideUp .3s}
@keyframes slideUp{from{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}
.modal-header{padding:24px;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}
.modal-header h2{font-size:22px;font-weight:700;margin:0}
.modal-close{background:none;border:none;font-size:32px;color:#6c757d;cursor:pointer;line-height:1}
.modal-body{padding:24px}
.form-step{display:none}
.form-step.active{display:block}
.form-group{margin-bottom:20px}
.form-group label{display:block;margin-bottom:8px;font-weight:600;font-size:14px}
.form-input,.form-textarea{width:100%;padding:12px 16px;border:2px solid #e5e7eb;border-radius:12px;font-size:15px;font-family:inherit}
.form-input:focus,.form-textarea:focus{outline:none;border-color:var(--teal-500)}
.form-textarea{resize:vertical;min-height:80px}
.btn-primary{width:100%;padding:14px 24px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;background:linear-gradient(135deg,var(--teal-500),var(--teal-400));color:#fff;box-shadow:0 4px 12px rgba(33,128,141,.3);transition:transform .2s}
.btn-primary:hover{transform:translateY(-2px)}
.btn-success{background:var(--green-500)}
.btn-secondary{background:#fff;color:#6c757d;border:2px solid #e5e7eb}
.question-card{text-align:center;padding:20px 0}
.question-card h3{font-size:20px;margin-bottom:12px}
.question-help{color:#6c757d;font-size:14px;margin-bottom:24px}
.button-group{display:flex;flex-direction:column;gap:12px}
.choice-btn{padding:16px 24px;background:#fff;border:2px solid #e5e7eb;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s}
.choice-btn:hover{border-color:var(--teal-500);background:#FCFCF9}
.result-card{text-align:center}
.result-icon{font-size:64px;margin-bottom:16px}
.quadrant-badge{display:inline-block;padding:12px 24px;border-radius:12px;font-weight:600;font-size:16px;margin-bottom:20px;color:#fff}
.bottom-nav{position:fixed;bottom:0;left:0;right:0;background:#fff;border-top:1px solid #e5e7eb;display:flex;justify-content:space-around;padding:8px 0;z-index:99}
.nav-item{flex:1;display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px;background:none;border:none;cursor:pointer;color:#6c757d;transition:color .2s}
.nav-item.active{color:var(--teal-500)}
.nav-icon{font-size:24px}
.nav-label{font-size:11px;font-weight:600}
.toast{position:fixed;bottom:100px;left:50%;transform:translateX(-50%) translateY(100px);background:rgba(0,0,0,.9);color:#fff;padding:16px 24px;border-radius:16px;font-size:15px;font-weight:600;box-shadow:0 10px 40px rgba(0,0,0,.3);z-index:10000;opacity:0;transition:all .3s;max-width:90%;text-align:center}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
.toast.success{background:var(--green-500)}
.toast.info{background:var(--blue-500)}
.tutorial-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.95);backdrop-filter:blur(10px);z-index:10000;display:none;align-items:center;justify-content:center;opacity:0;transition:opacity .3s;padding:20px}
.tutorial-overlay.show{display:flex;opacity:1}
.tutorial-container{background:linear-gradient(135deg,#fff 0%,#f8f9fa 100%);border-radius:24px;max-width:500px;width:100%;padding:32px;box-shadow:0 20px 60px rgba(0,0,0,.3);animation:slideUp .5s}
.tutorial-progress{position:relative;height:6px;background:#e9ecef;border-radius:3px;margin-bottom:32px;overflow:hidden}
.tutorial-progress-bar{height:100%;background:linear-gradient(90deg,var(--teal-500),var(--teal-400));border-radius:3px;transition:width .4s}
.tutorial-progress-text{position:absolute;top:12px;right:0;font-size:12px;font-weight:600;color:#6c757d}
.tutorial-content{min-height:320px;display:flex;align-items:center;justify-content:center;transition:opacity .3s}
.tutorial-step{text-align:center;width:100%}
.tutorial-icon{font-size:72px;margin-bottom:24px;animation:bounce 2s ease infinite}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
.tutorial-title{font-size:26px;font-weight:700;color:#1a1a1a;margin:0 0 16px;line-height:1.3}
.tutorial-description{font-size:16px;color:#495057;line-height:1.6;margin:0 0 24px}
.tutorial-highlight{background:linear-gradient(135deg,var(--teal-500),var(--teal-400));color:#fff;padding:12px 20px;border-radius:12px;font-weight:600;font-size:15px;margin-top:20px;display:inline-block}
.tutorial-quadrants-preview{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:20px}
.tutorial-quad{padding:16px;border-radius:12px;font-weight:600;font-size:14px;color:#fff}
.tutorial-q1{background:linear-gradient(135deg,#ef4444,#dc2626)}
.tutorial-q2{background:linear-gradient(135deg,#10b981,#059669)}
.tutorial-q3{background:linear-gradient(135deg,#f59e0b,#d97706)}
.tutorial-q4{background:linear-gradient(135deg,#6b7280,#4b5563)}
.tutorial-rewards{display:flex;flex-direction:column;gap:10px;margin-top:20px}
.tutorial-reward-item{background:#f8f9fa;padding:12px 20px;border-radius:10px;font-weight:600;font-size:15px;color:#495057;border-left:4px solid var(--teal-500)}
.tutorial-final-reward{display:flex;gap:16px;justify-content:center;margin-top:24px}
.tutorial-reward-big{background:linear-gradient(135deg,var(--teal-500),var(--teal-400));padding:20px;border-radius:16px;color:#fff;flex:1;text-align:center;box-shadow:0 4px 12px rgba(33,128,141,.3)}
.tutorial-reward-icon{font-size:48px;margin-bottom:8px}
.tutorial-reward-value{font-size:24px;font-weight:700}
.tutorial-reward-label{font-size:14px;font-weight:600;margin-top:8px}
.tutorial-navigation{display:flex;justify-content:center;margin-top:32px}
.tutorial-btn{padding:14px 32px;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;background:linear-gradient(135deg,var(--teal-500),var(--teal-400));color:#fff;box-shadow:0 4px 12px rgba(33,128,141,.3);transition:transform .2s}
.tutorial-btn:hover{transform:translateY(-2px)}
.celebration-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.8);backdrop-filter:blur(10px);z-index:10001;display:none;align-items:center;justify-content:center;opacity:0;transition:opacity .5s}
.celebration-overlay.show{display:flex;opacity:1}
.celebration-content{text-align:center;animation:celebrationBounce .8s}
@keyframes celebrationBounce{0%{transform:scale(0)}50%{transform:scale(1.2)}100%{transform:scale(1)}}
.celebration-emoji{font-size:120px;margin-bottom:20px;animation:rotate 1s}
@keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
.celebration-text{font-size:48px;font-weight:700;color:#fff;margin-bottom:16px;text-shadow:0 4px 8px rgba(0,0,0,.3)}
.celebration-badge{font-size:28px;font-weight:600;color:#fbbf24;text-shadow:0 2px 4px rgba(0,0,0,.3)}
.health-reminder{background:linear-gradient(135deg,var(--blue-500),#60a5fa);color:#fff;padding:16px 20px;border-radius:12px;margin-bottom:16px;display:flex;align-items:center;gap:12px;box-shadow:0 4px 12px rgba(59,130,246,.3);cursor:pointer;transition:transform .2s}
.health-reminder:hover{transform:translateX(4px)}
.health-icon{font-size:32px}
.health-text{flex:1}
.health-title{font-weight:700;margin-bottom:4px}
.health-subtitle{font-size:13px;opacity:.9}
@media (max-width:768px){.eisenhower-grid{grid-template-columns:1fr}.stats-bar{grid-template-columns:1fr}.fab{bottom:70px;right:16px;width:56px;height:56px}.tutorial-final-reward{flex-direction:column}}
.app-footer{text-align:center;padding:20px;color:#6c757d;font-size:12px;margin-top:40px}
.app-footer strong{color:var(--teal-500)}
</style>
</head>
<body><div id="tutorial-overlay" class="tutorial-overlay">
<div class="tutorial-container">
<div class="tutorial-progress">
<div class="tutorial-progress-bar" id="tutorial-progress-bar" style="width:0%"></div>
<span class="tutorial-progress-text" id="tutorial-progress-text">1 / 6</span>
</div>
<div class="tutorial-content" id="tutorial-content"></div>
<div class="tutorial-navigation">
<button id="tutorial-next" class="tutorial-btn">Avanti ‚Üí</button>
</div>
</div>
</div>
<div id="celebration-overlay" class="celebration-overlay">
<div class="celebration-content">
<div class="celebration-emoji">üéä</div>
<div class="celebration-text">+100 XP</div>
<div class="celebration-badge">üéì First Steps</div>
</div>
</div>
<div id="completion-modal" class="modal">
<div class="modal-content" style="max-width:420px">
<div class="modal-header">
<h2>üéØ Conferma Completamento</h2>
<button class="modal-close" onclick="closeCompletionModal()">&times;</button>
</div>
<div class="modal-body">
<p style="font-weight:600;margin-bottom:12px">Sei sicuro di aver completato questo task?</p>
<p style="color:#6c757d;font-size:14px;line-height:1.6;margin-bottom:16px">
Per noi con ADHD, √® importante essere onesti con noi stessi. Procrastinare o "fingere" di completare task rovina l'organizzazione e crea stress futuro.
</p>
<p style="color:#495057;font-size:14px;margin-bottom:16px;line-height:1.6">
‚úÖ <strong>Se l'hai davvero fatto:</strong> Completa e celebra!<br>
‚è∏Ô∏è <strong>Se non √® finito:</strong> Lascialo in corso
</p>
<p style="font-size:13px;color:var(--teal-500);font-weight:600;margin-bottom:20px">
üí° Ricorda: Progress over perfection
</p>
<button onclick="confirmTaskCompletion()" class="btn-primary btn-success" style="margin-bottom:8px">
‚úÖ S√¨, completato!
</button>
<button onclick="closeCompletionModal()" class="btn-primary btn-secondary">
‚è∏Ô∏è Non ancora
</button>
</div>
</div>
</div>
<header class="app-header">
<div class="header-content">
<div class="header-left"><h1 class="app-title">Focusly ADHD v2.1</h1></div>
<div class="header-right"><div class="level-badge" id="level-badge">Lv. 1</div></div>
</div>
</header>
<main class="main-content">
<div id="dashboard-tab" class="tab-panel active">
<div id="health-reminders-section"></div>
<div class="stats-bar">
<div class="stat-item"><div class="stat-icon">‚ö°</div><div class="stat-info"><div class="stat-value" id="xp-value">0</div><div class="stat-label">XP</div></div></div>
<div class="stat-item"><div class="stat-icon">üî•</div><div class="stat-info"><div class="stat-value" id="streak-value">0</div><div class="stat-label">Streak</div></div></div>
<div class="stat-item"><div class="stat-icon">üìÖ</div><div class="stat-info"><div class="stat-value" id="weekly-value">0/15</div><div class="stat-label">Settimanali</div></div></div>
</div>
<div class="progress-section">
<div class="progress-header"><span>Livello 1</span><span id="progress-text">0 / 100 XP</span></div>
<div class="progress-bar"><div class="progress-fill" id="progress-fill" style="width:0%"></div></div>
</div>
<div class="eisenhower-grid">
<div class="quadrant q1">
<div class="quadrant-header"><h3>üî¥ Urgente & Importante</h3><div class="quadrant-subtitle">Fai Subito</div></div>
<div class="task-list" id="q1-tasks"><p style="color:#9ca3af;font-size:14px;text-align:center">Nessun task</p></div>
</div>
<div class="quadrant q2">
<div class="quadrant-header"><h3>üü¢ Importante & Non Urgente</h3><div class="quadrant-subtitle">Pianifica</div></div>
<div class="task-list" id="q2-tasks"><p style="color:#9ca3af;font-size:14px;text-align:center">Nessun task</p></div>
</div>
<div class="quadrant q3">
<div class="quadrant-header"><h3>üü† Urgente & Non Importante</h3><div class="quadrant-subtitle">Delega</div></div>
<div class="task-list" id="q3-tasks"><p style="color:#9ca3af;font-size:14px;text-align:center">Nessun task</p></div>
</div>
<div class="quadrant q4">
<div class="quadrant-header"><h3>‚ö™ Non Urgente & Non Importante</h3><div class="quadrant-subtitle">Pianifica senza fretta</div></div>
<div class="task-list" id="q4-tasks"><p style="color:#9ca3af;font-size:14px;text-align:center">Nessun task</p></div>
</div>
</div>
<div class="app-footer"><strong>¬© 2025 Edoardo Lucchina (Edoluck90)</strong><br>Focusly ADHD v2.1 - Tutti i diritti riservati</div>
</div>
<div id="reports-tab" class="tab-panel">
<h2 style="margin-bottom:20px">üìä Report Settimanali</h2>
<div style="background:#fff;padding:24px;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,.1)">
<h3 style="margin-bottom:16px">Statistiche</h3>
<p style="color:#6c757d">I tuoi report settimanali appariranno qui dopo aver completato alcuni task!</p>
</div>
</div>
<div id="settings-tab" class="tab-panel">
<h2 style="margin-bottom:20px">‚öôÔ∏è Impostazioni</h2>
<div style="background:#fff;padding:24px;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,.1);margin-bottom:16px">
<h3 style="margin-bottom:16px">Informazioni App</h3>
<p style="margin-bottom:8px"><strong>Nome:</strong> Focusly ADHD</p>
<p style="margin-bottom:8px"><strong>Versione:</strong> 2.1.0</p>
<p style="margin-bottom:8px"><strong>Creatore:</strong> Edoardo Lucchina (Edoluck90)</p>
<p style="margin-bottom:8px"><strong>Anno:</strong> 2025</p>
<p style="margin-bottom:16px"><strong>Licenza:</strong> MIT</p>
</div>
<div style="background:#fff;padding:24px;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,.1);margin-bottom:16px">
<h3 style="margin-bottom:16px">üîî Notifiche</h3>
<p style="color:#6c757d;margin-bottom:16px;font-size:14px">Ricevi promemoria per task, streak giornaliero, salute e celebrazioni!</p>
<button onclick="requestNotifications()" style="padding:12px 24px;background:linear-gradient(135deg,#21808D,#32B8C6);color:#fff;border:none;border-radius:12px;font-weight:600;cursor:pointer;margin-bottom:12px;width:100%">üîî Attiva Notifiche</button>
<button onclick="testNotification()" style="padding:12px 24px;background:#fff;color:#21808D;border:2px solid #21808D;border-radius:12px;font-weight:600;cursor:pointer;width:100%;margin-bottom:12px">üß™ Test Notifica</button>
<div style="margin-top:16px;padding:12px;background:#f8f9fa;border-radius:8px;font-size:13px;color:#495057">
<strong>Tipi di notifiche:</strong><br>
‚Ä¢ ‚è∞ Promemoria mattutino (9:00)<br>
‚Ä¢ üî• Reminder streak serale (20:00)<br>
‚Ä¢ ‚ö†Ô∏è Task Q1 urgenti (ogni ora 8-20)<br>
‚Ä¢ üíß Bere acqua (ogni 60 min)<br>
‚Ä¢ üöª Pausa bagno (ogni 2-3 ore)<br>
‚Ä¢ üéä Celebrazioni level up<br>
‚Ä¢ ‚úÖ Task completati
</div>
</div>
<div style="background:#fff;padding:24px;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,.1);margin-bottom:16px">
<h3 style="margin-bottom:16px">üíß Salute & Benessere</h3>
<p style="color:#6c757d;margin-bottom:16px;font-size:14px">
Promemoria basati su studi scientifici per persone con ADHD
</p>
<div style="padding:12px;background:#f0f9ff;border-radius:8px;font-size:13px;color:#495057;margin-bottom:12px">
<strong>üíß Idratazione</strong><br>
Studi mostrano che per ADHD, 1% dehydration riduce performance cognitiva del 30%. Promemoria ogni 60 minuti (8-20).
</div>
<div style="padding:12px;background:#fef3c7;border-radius:8px;font-size:13px;color:#495057">
<strong>üöª Pause Bagno</strong><br>
Frequenza ottimale: 1-2 volte al giorno secondo ISB Study 2024. Trattenere troppo pu√≤ causare problemi. Promemoria ogni 2-3 ore.
</div>
</div>
<div style="background:#fff;padding:24px;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,.1)">
<button onclick="resetTutorial()" style="padding:12px 24px;background:linear-gradient(135deg,#21808D,#32B8C6);color:#fff;border:none;border-radius:12px;font-weight:600;cursor:pointer">üîÑ Ripeti Tutorial</button>
</div>
</div>
</main>
<button class="fab" id="add-task-btn"><span class="fab-icon">+</span></button>
<div id="task-modal" class="modal">
<div class="modal-content">
<div class="modal-header"><h2>‚ú® Nuovo Task</h2><button class="modal-close" id="close-modal">&times;</button></div>
<div class="modal-body">
<div id="step-1" class="form-step active">
<div class="form-group"><label>Che cosa devi fare?</label>
<input type="text" id="task-title" class="form-input" placeholder="Es: Preparare presentazione"></div>
<div class="form-group"><label>Descrizione (opzionale)</label>
<textarea id="task-description" class="form-textarea" placeholder="Aggiungi dettagli..."></textarea></div>
<button class="btn-primary" id="next-step-1">Avanti ‚Üí</button>
</div>
<div id="step-2" class="form-step">
<div class="question-card"><h3>‚è∞ Questo task ha una scadenza imminente?</h3>
<p class="question-help">Deve essere fatto oggi o nei prossimi 2-3 giorni?</p>
<div class="button-group">
<button class="choice-btn" data-urgent="true">S√¨, √® urgente</button>
<button class="choice-btn" data-urgent="false">No, non urgente</button>
</div></div>
</div>
<div id="step-3" class="form-step">
<div class="question-card"><h3>üéØ Questo task contribuisce ai tuoi obiettivi principali?</h3>
<p class="question-help">√à importante per la tua crescita personale o professionale?</p>
<div class="button-group">
<button class="choice-btn" data-important="true">S√¨, √® importante</button>
<button class="choice-btn" data-important="false">No, non importante</button>
</div></div>
</div>
<div id="step-4" class="form-step">
<div class="result-card"><div class="result-icon">üéØ</div><h3>Perfetto!</h3>
<p style="color:#6c757d;margin-bottom:20px">Ho categorizzato il tuo task:</p>
<div class="quadrant-badge" id="suggested-quadrant">Quadrante</div>
<button class="btn-primary" id="save-task">Salva Task +10 XP</button>
</div></div>
</div>
</div>
</div>
<nav class="bottom-nav">
<button class="nav-item active" data-tab="dashboard"><span class="nav-icon">üìä</span><span class="nav-label">Dashboard</span></button>
<button class="nav-item" data-tab="reports"><span class="nav-icon">üìà</span><span class="nav-label">Report</span></button>
<button class="nav-item" data-tab="settings"><span class="nav-icon">‚öôÔ∏è</span><span class="nav-label">Impostazioni</span></button>
</nav>
<div id="toast" class="toast"></div>
<script>const appData={userStats:{level:1,currentXP:0,nextLevelXP:100,streak:0,weeklyCompleted:0,weeklyGoal:15,totalCompleted:0,waterToday:0,bathroomToday:0},tasks:{q1:[],q2:[],q3:[],q4:[]},tempTaskData:{title:'',description:'',isUrgent:null,isImportant:null,quadrant:''},pendingCompletion:{quadrant:null,taskId:null}};
const adhdMotivationalQuotes=[
{q:"Fatto √® meglio che perfetto",s:"ADHD Research - Done Not Perfect"},
{q:"Progresso, non perfezione",s:"Task Completion Studies"},
{q:"Un passo alla volta, una vittoria alla volta",s:"ADHD Productivity Research"},
{q:"Il tuo cervello funziona diversamente, non in modo carente",s:"ADHD Neuroscience"},
{q:"Ogni task completato √® una vittoria",s:"Goal-Directed Motivation"},
{q:"Le piccole vittorie portano a grandi successi",s:"ADHD Achievement"},
{q:"Focus su ci√≤ che PUOI controllare",s:"Executive Function Research"},
{q:"Inizia piccolo, celebra i progressi",s:"INCUP Framework"},
{q:"Puoi fare cose difficili",s:"ADHD Capability Studies"},
{q:"La motivazione segue l'azione, non il contrario",s:"ADHD Motivation Psychology"},
{q:"Progress over perfection, always",s:"Task Completion Research"},
{q:"Non sei pigro, il tuo cervello √® cablato diversamente",s:"Neurological Studies"},
{q:"Dividi. Conquista. Celebra",s:"Task Management Research"},
{q:"Il momentum si costruisce un task alla volta",s:"Behavioral Psychology"},
{q:"L'urgenza pu√≤ essere tua alleata",s:"INCUP Framework - Urgency"},
{q:"Trasforma l'interesse in azione",s:"Interest-Based Nervous System"},
{q:"La novit√† alimenta il tuo cervello ADHD",s:"Dopamine Research"},
{q:"Le sfide giuste attivano il flow",s:"Challenge & Flow States"},
{q:"La passione supera la procrastinazione",s:"Passion-Driven Achievement"},
{q:"Ogni giorno √® una nuova opportunit√†",s:"Daily Reset Mindset"}
];
const tutorialSteps=[
{icon:'üëã',title:'Benvenuto in Focusly ADHD!',description:"Un'app pensata per aiutarti a gestire la produttivit√† in modo semplice e divertente, usando la Matrice di Eisenhower.",extra:'<div class="tutorial-highlight">üí° Design specifico per menti ADHD</div>'},
{icon:'üìä',title:'La Matrice di Eisenhower',description:'Organizza i task in 4 quadranti: Urgente & Importante, Importante, Urgente, e Non Prioritario. Cos√¨ saprai sempre cosa fare prima!',extra:'<div class="tutorial-quadrants-preview"><div class="tutorial-quad tutorial-q1">üî¥ Fai Subito</div><div class="tutorial-quad tutorial-q2">üü¢ Pianifica</div><div class="tutorial-quad tutorial-q3">üü† Delega</div><div class="tutorial-quad tutorial-q4">‚ö™ Pianifica senza fretta</div></div>'},
{icon:'‚ûï',title:'Aggiungi il Tuo Primo Task',description:"Tocca il pulsante + e rispondi a 2 semplici domande. L'app categorizza automaticamente il task nel quadrante giusto!",extra:'<div class="tutorial-highlight">‚ú® Niente stress, ci pensiamo noi!</div>'},
{icon:'üéÆ',title:'Guadagna Punti e Livelli',description:'Ogni task completato ti fa guadagnare XP! Sali di livello, mantieni lo streak giornaliero e sblocca badge speciali.',extra:'<div class="tutorial-rewards"><div class="tutorial-reward-item">‚ö° +50 XP per task</div><div class="tutorial-reward-item">üî• Streak bonus</div><div class="tutorial-reward-item">üèÜ Badge esclusivi</div></div>'},
{icon:'üíß',title:'Promemoria Salute ADHD',description:'Ricevi promemoria per bere acqua (ogni 60 min) e pause bagno (ogni 2-3h). Basati su studi: 1% dehydration riduce focus del 30%!',extra:'<div class="tutorial-highlight">üß† Supporto completo per ADHD</div>'},
{icon:'üéâ',title:'Sei Pronto!',description:'Hai completato il tutorial! Come ricompensa ricevi 100 XP e il badge "First Steps". Inizia subito a organizzare la tua giornata!',extra:'<div class="tutorial-final-reward"><div class="tutorial-reward-big"><div class="tutorial-reward-icon">‚ö°</div><div class="tutorial-reward-value">+100 XP</div></div><div class="tutorial-reward-big"><div class="tutorial-reward-icon">üéì</div><div class="tutorial-reward-label">Badge: First Steps</div></div></div>'}
];
let currentTutorialStep=0;
document.addEventListener('DOMContentLoaded',()=>{console.log('üöÄ Focusly ADHD v2.1 initialized');console.log('¬© 2025 Edoardo Lucchina (Edoluck90)');loadUserData();initializeUI();attachEventListeners();if(!hasCompletedTutorial()){setTimeout(()=>showTutorial(),500)}else{renderDashboard();setTimeout(()=>{NotificationSystem.init();showMotivationalQuote()},1000)}});
function hasCompletedTutorial(){return localStorage.getItem('tutorial_completed')==='true'}
function showTutorial(){const overlay=document.getElementById('tutorial-overlay');overlay.classList.add('show');document.body.style.overflow='hidden';renderTutorialStep(0)}
function renderTutorialStep(step){const stepData=tutorialSteps[step];const content=document.getElementById('tutorial-content');const progressBar=document.getElementById('tutorial-progress-bar');const progressText=document.getElementById('tutorial-progress-text');const nextBtn=document.getElementById('tutorial-next');content.innerHTML=`<div class="tutorial-step"><div class="tutorial-icon">${stepData.icon}</div><h2 class="tutorial-title">${stepData.title}</h2><p class="tutorial-description">${stepData.description}</p>${stepData.extra||''}</div>`;const progress=((step+1)/tutorialSteps.length)*100;progressBar.style.width=progress+'%';progressText.textContent=`${step+1} / ${tutorialSteps.length}`;nextBtn.textContent=step===tutorialSteps.length-1?'Inizia! üöÄ':'Avanti ‚Üí'}
function nextTutorialStep(){if(currentTutorialStep<tutorialSteps.length-1){currentTutorialStep++;const content=document.getElementById('tutorial-content');content.style.opacity='0';setTimeout(()=>{renderTutorialStep(currentTutorialStep);content.style.opacity='1'},300)}else{completeTutorial()}}
function completeTutorial(){localStorage.setItem('tutorial_completed','true');appData.userStats.currentXP+=100;if(appData.userStats.currentXP>=appData.userStats.nextLevelXP){appData.userStats.level++;appData.userStats.currentXP-=appData.userStats.nextLevelXP;appData.userStats.nextLevelXP=Math.floor(appData.userStats.nextLevelXP*1.5)}saveUserData();updateStatsUI();const overlay=document.getElementById('tutorial-overlay');overlay.classList.remove('show');document.body.style.overflow='auto';setTimeout(()=>{const celebration=document.getElementById('celebration-overlay');celebration.classList.add('show');setTimeout(()=>{celebration.classList.remove('show');renderDashboard();NotificationSystem.requestPermission();setTimeout(()=>showMotivationalQuote(),1000)},3000)},500)}
function resetTutorial(){localStorage.removeItem('tutorial_completed');currentTutorialStep=0;showToast('‚úÖ Tutorial resettato! Ricarica la pagina','success')}
function loadUserData(){const saved=localStorage.getItem('userData');if(saved){try{Object.assign(appData,JSON.parse(saved))}catch(e){console.error('Error:',e)}}}
function saveUserData(){localStorage.setItem('userData',JSON.stringify(appData))}
function initializeUI(){updateStatsUI()}
function updateStatsUI(){document.getElementById('level-badge').textContent=`Lv. ${appData.userStats.level}`;document.getElementById('xp-value').textContent=appData.userStats.currentXP;document.getElementById('streak-value').textContent=appData.userStats.streak;document.getElementById('weekly-value').textContent=`${appData.userStats.weeklyCompleted}/${appData.userStats.weeklyGoal}`;const percentage=(appData.userStats.currentXP/appData.userStats.nextLevelXP)*100;document.getElementById('progress-fill').style.width=percentage+'%';document.getElementById('progress-text').textContent=`${appData.userStats.currentXP} / ${appData.userStats.nextLevelXP} XP`}
function attachEventListeners(){document.getElementById('tutorial-next').addEventListener('click',nextTutorialStep);document.querySelectorAll('.nav-item').forEach(item=>{item.addEventListener('click',()=>{switchTab(item.getAttribute('data-tab'))})});document.getElementById('add-task-btn').addEventListener('click',openTaskModal);document.getElementById('close-modal').addEventListener('click',closeTaskModal);document.getElementById('next-step-1').addEventListener('click',()=>{const title=document.getElementById('task-title').value.trim();if(!title){showToast('‚ö†Ô∏è Inserisci un titolo','error');return}appData.tempTaskData.title=title;appData.tempTaskData.description=document.getElementById('task-description').value.trim();goToModalStep(2)});document.querySelectorAll('[data-urgent]').forEach(btn=>{btn.addEventListener('click',()=>{appData.tempTaskData.isUrgent=btn.getAttribute('data-urgent')==='true';goToModalStep(3)})});document.querySelectorAll('[data-important]').forEach(btn=>{btn.addEventListener('click',()=>{appData.tempTaskData.isImportant=btn.getAttribute('data-important')==='true';goToModalStep(4);showSuggestedQuadrant()})});document.getElementById('save-task').addEventListener('click',saveNewTask);document.getElementById('task-modal').addEventListener('click',(e)=>{if(e.target.id==='task-modal')closeTaskModal()})}
function switchTab(tabName){document.querySelectorAll('.nav-item').forEach(item=>{item.classList.remove('active');if(item.getAttribute('data-tab')===tabName)item.classList.add('active')});document.querySelectorAll('.tab-panel').forEach(panel=>panel.classList.remove('active'));document.getElementById(`${tabName}-tab`).classList.add('active');if(tabName==='dashboard')renderDashboard()}
function renderDashboard(){['q1','q2','q3','q4'].forEach(q=>renderQuadrantTasks(q));updateHealthReminders()}
function renderQuadrantTasks(quadrant){const container=document.getElementById(`${quadrant}-tasks`);const tasks=appData.tasks[quadrant];if(!tasks.length){container.innerHTML='<p style="color:#9ca3af;font-size:14px;text-align:center">Nessun task</p>';return}container.innerHTML=tasks.map(task=>`<div class="task-item ${task.completed?'completed':''}" data-task-id="${task.id}"><div class="task-checkbox ${task.completed?'checked':''}" onclick="toggleTask('${quadrant}',${task.id})"></div><div class="task-content"><div class="task-title">${task.title}</div>${task.description?`<div class="task-description">${task.description}</div>`:''}</div></div>`).join('')}
function toggleTask(quadrant,taskId){const task=appData.tasks[quadrant].find(t=>t.id===taskId);if(!task)return;if(!task.completed){showCompletionModal(quadrant,taskId);return}task.completed=false;saveUserData();renderQuadrantTasks(quadrant)}
function showCompletionModal(quadrant,taskId){appData.pendingCompletion={quadrant,taskId};document.getElementById('completion-modal').classList.add('show');document.body.style.overflow='hidden'}
function closeCompletionModal(){document.getElementById('completion-modal').classList.remove('show');document.body.style.overflow='auto';appData.pendingCompletion={quadrant:null,taskId:null}}
function confirmTaskCompletion(){const {quadrant,taskId}=appData.pendingCompletion;const task=appData.tasks[quadrant].find(t=>t.id===taskId);if(!task)return;task.completed=true;appData.userStats.currentXP+=50;appData.userStats.weeklyCompleted++;appData.userStats.totalCompleted++;if(appData.userStats.currentXP>=appData.userStats.nextLevelXP){appData.userStats.level++;appData.userStats.currentXP-=appData.userStats.nextLevelXP;appData.userStats.nextLevelXP=Math.floor(appData.userStats.nextLevelXP*1.5);showToast(`üéä Level Up! Ora sei livello ${appData.userStats.level}!`,'success',4000);NotificationSystem.notifyLevelUp(appData.userStats.level);setTimeout(()=>showMotivationalQuote(),1000)}else{showToast('üéâ Task completato! +50 XP','success');setTimeout(()=>showMotivationalQuote(),800)}updateStatsUI();saveUserData();renderQuadrantTasks(quadrant);const urgentCount=appData.tasks.q1.filter(t=>!t.completed).length;NotificationSystem.updateBadge(urgentCount);closeCompletionModal()}
function openTaskModal(){document.getElementById('task-modal').classList.add('show');document.body.style.overflow='hidden';goToModalStep(1);document.getElementById('task-title').value='';document.getElementById('task-description').value='';appData.tempTaskData={title:'',description:'',isUrgent:null,isImportant:null,quadrant:''}}
function closeTaskModal(){document.getElementById('task-modal').classList.remove('show');document.body.style.overflow='auto'}
function goToModalStep(stepNumber){document.querySelectorAll('.form-step').forEach(step=>step.classList.remove('active'));document.getElementById(`step-${stepNumber}`).classList.add('active')}
function showSuggestedQuadrant(){const {isUrgent,isImportant}=appData.tempTaskData;let quadrant,quadrantName,quadrantColor;if(isUrgent&&isImportant){quadrant='q1';quadrantName='üî¥ Urgente & Importante - Fai Subito';quadrantColor='#ef4444'}else if(!isUrgent&&isImportant){quadrant='q2';quadrantName='üü¢ Importante & Non Urgente - Pianifica';quadrantColor='#10b981'}else if(isUrgent&&!isImportant){quadrant='q3';quadrantName='üü† Urgente & Non Importante - Delega';quadrantColor='#f59e0b'}else{quadrant='q4';quadrantName='‚ö™ Non Urgente & Non Importante - Pianifica senza fretta';quadrantColor='#6b7280'}appData.tempTaskData.quadrant=quadrant;const badge=document.getElementById('suggested-quadrant');badge.textContent=quadrantName;badge.style.backgroundColor=quadrantColor}
function saveNewTask(){const {title,description,quadrant}=appData.tempTaskData;appData.tasks[quadrant].push({id:Date.now(),title,description,completed:false,createdAt:new Date().toISOString()});appData.userStats.currentXP+=10;saveUserData();updateStatsUI();renderDashboard();closeTaskModal();showToast('‚úÖ Task aggiunto! +10 XP','success')}
function showToast(message,type='info',duration=3000){const toast=document.getElementById('toast');toast.textContent=message;toast.className=`toast ${type} show`;setTimeout(()=>toast.classList.remove('show'),duration)}
function showMotivationalQuote(){const quote=adhdMotivationalQuotes[Math.floor(Math.random()*adhdMotivationalQuotes.length)];showToast(`üí° ${quote.q}`,'info',4000)}
function updateHealthReminders(){const section=document.getElementById('health-reminders-section');const today=new Date().toDateString();const lastWater=localStorage.getItem('lastWaterReminder');const lastBathroom=localStorage.getItem('lastBathroomReminder');const waterNeeded=!lastWater||lastWater!==today;const bathroomNeeded=!lastBathroom||lastBathroom!==today;let html='';if(waterNeeded){html+=`<div class="health-reminder" onclick="markWaterDone()"><div class="health-icon">üíß</div><div class="health-text"><div class="health-title">Ricordati di bere acqua!</div><div class="health-subtitle">1% dehydration riduce focus del 30% ‚Ä¢ Tocca quando hai bevuto</div></div></div>`}if(bathroomNeeded){html+=`<div class="health-reminder" onclick="markBathroomDone()" style="background:linear-gradient(135deg,#f59e0b,#fbbf24)"><div class="health-icon">üöª</div><div class="health-text"><div class="health-title">Pausa bagno necessaria</div><div class="health-subtitle">Frequenza ottimale: 1-2x/giorno ‚Ä¢ Tocca quando fatto</div></div></div>`}section.innerHTML=html}
function markWaterDone(){localStorage.setItem('lastWaterReminder',new Date().toDateString());appData.userStats.waterToday++;saveUserData();showToast('üíß Ottimo! Idratazione importante per ADHD','success');updateHealthReminders()}
function markBathroomDone(){localStorage.setItem('lastBathroomReminder',new Date().toDateString());appData.userStats.bathroomToday++;saveUserData();showToast('‚úÖ Perfetto! Prendersi cura di s√© √® importante','success');updateHealthReminders()}
const NotificationSystem={enabled:false,config:{morningReminder:{enabled:true,time:'09:00'},eveningStreak:{enabled:true,time:'20:00'},hourlyQ1:{enabled:true},waterReminder:{enabled:true,interval:60},bathroomReminder:{enabled:true,interval:180},urgentTasks:{enabled:true},celebrations:{enabled:true},doNotDisturb:{enabled:true,start:'23:00',end:'07:00'}},async init(){console.log('üîî Initializing Notifications...');await this.loadConfig();if(await this.checkPermission()){this.enabled=true;this.scheduleAll();console.log('‚úÖ Notifications enabled')}},async checkPermission(){if(!('Notification'in window)){console.warn('Notifications not supported');return false}if(Notification.permission==='granted')return true;if(Notification.permission!=='denied'){const permission=await Notification.requestPermission();return permission==='granted'}return false},async requestPermission(){if(!('Notification'in window)){showToast('‚ö†Ô∏è Notifiche non supportate','error');return false}const permission=await Notification.requestPermission();if(permission==='granted'){this.enabled=true;showToast('‚úÖ Notifiche attivate!','success');this.scheduleAll();return true}else{showToast('‚ùå Permesso negato','error');return false}},send(title,body,icon='üéØ',tag='focusly'){if(!this.enabled||!this.canSendNow())return;if(Notification.permission==='granted'){new Notification(title,{body:body,icon:'/icons/icon-192x192.png',badge:'/icons/icon-72x72.png',tag:tag,requireInteraction:false,silent:false});this.logNotification(title,body)}},canSendNow(){if(!this.config.doNotDisturb.enabled)return true;const now=new Date();const currentTime=now.getHours()*60+now.getMinutes();const[startH,startM]=this.config.doNotDisturb.start.split(':').map(Number);const[endH,endM]=this.config.doNotDisturb.end.split(':').map(Number);const startTime=startH*60+startM;const endTime=endH*60+endM;if(startTime>endTime){return currentTime<endTime||currentTime>startTime}else{return currentTime<startTime||currentTime>endTime}},scheduleAll(){this.scheduleMorningReminder();this.scheduleEveningStreak();this.scheduleHourlyQ1();this.scheduleWaterReminder();this.scheduleBathroomReminder()},scheduleMorningReminder(){if(!this.config.morningReminder.enabled)return;const now=new Date();const[hours,minutes]=this.config.morningReminder.time.split(':').map(Number);const scheduledTime=new Date(now.getFullYear(),now.getMonth(),now.getDate(),hours,minutes);if(scheduledTime<now)scheduledTime.setDate(scheduledTime.getDate()+1);const delay=scheduledTime.getTime()-now.getTime();setTimeout(()=>{this.sendMorningReminder();setInterval(()=>this.sendMorningReminder(),24*60*60*1000)},delay)},scheduleEveningStreak(){if(!this.config.eveningStreak.enabled)return;const now=new Date();const[hours,minutes]=this.config.eveningStreak.time.split(':').map(Number);const scheduledTime=new Date(now.getFullYear(),now.getMonth(),now.getDate(),hours,minutes);if(scheduledTime<now)scheduledTime.setDate(scheduledTime.getDate()+1);const delay=scheduledTime.getTime()-now.getTime();setTimeout(()=>{this.sendStreakReminder();setInterval(()=>this.sendStreakReminder(),24*60*60*1000)},delay)},scheduleHourlyQ1(){if(!this.config.hourlyQ1.enabled)return;setInterval(()=>{const hour=new Date().getHours();if(hour>=8&&hour<=20){const urgentCount=appData.tasks.q1.filter(t=>!t.completed).length;if(urgentCount>0){this.send('‚ö†Ô∏è Task Urgenti Q1',`Hai ${urgentCount} task urgent${urgentCount>1?'i':'e'}! Non procrastinare, inizia ora!`,'‚ö†Ô∏è','hourly-q1')}}},60*60*1000)},scheduleWaterReminder(){if(!this.config.waterReminder.enabled)return;setInterval(()=>{const hour=new Date().getHours();if(hour>=8&&hour<=20){this.send('üíß Bevi Acqua!','Per ADHD: 1% dehydration = -30% focus. Bevi ora!','üíß','water')}},this.config.waterReminder.interval*60*1000)},scheduleBathroomReminder(){if(!this.config.bathroomReminder.enabled)return;setInterval(()=>{const hour=new Date().getHours();if(hour>=8&&hour<=20){this.send('üöª Pausa Bagno','Frequenza ottimale 1-2x/giorno. Prenditi una pausa!','üöª','bathroom')}},this.config.bathroomReminder.interval*60*1000)},sendMorningReminder(){const urgentCount=appData.tasks.q1.filter(t=>!t.completed).length;if(urgentCount>0){this.send('üéØ Buongiorno!',`Hai ${urgentCount} task urgent${urgentCount>1?'i':'e'} oggi. Inizia dalla Matrice Q1!`,'üéØ','morning')}else{this.send('üí™ Buongiorno!','Inizia la giornata con energia! Aggiungi i tuoi task di oggi.','üí™','morning')}},sendStreakReminder(){const today=new Date().toDateString();const lastActivity=localStorage.getItem('lastActivity');if(lastActivity!==today){this.send('üî• Mantieni il tuo Streak!',`Streak attuale: ${appData.userStats.streak} giorni. Completa almeno 1 task oggi!`,'üî•','streak')}},notifyLevelUp(newLevel){if(!this.config.celebrations.enabled)return;this.send('üéä Level Up!',`Congratulazioni! Sei ora livello ${newLevel}!`,'üéä','levelup')},updateBadge(count){if('setAppBadge'in navigator){if(count>0){navigator.setAppBadge(count)}else{navigator.clearAppBadge()}}},loadConfig(){const saved=localStorage.getItem('notificationConfig');if(saved){try{this.config=JSON.parse(saved)}catch(e){console.error('Error:',e)}}},saveConfig(){localStorage.setItem('notificationConfig',JSON.stringify(this.config))},logNotification(title,body){const log=JSON.parse(localStorage.getItem('notificationLog')||'[]');log.push({title,body,timestamp:new Date().toISOString()});if(log.length>50)log.shift();localStorage.setItem('notificationLog',JSON.stringify(log))}};
window.toggleTask=toggleTask;
window.resetTutorial=resetTutorial;
window.markWaterDone=markWaterDone;
window.markBathroomDone=markBathroomDone;
window.requestNotifications=()=>NotificationSystem.requestPermission();
window.testNotification=async()=>{if(Notification.permission!=='granted'){const granted=await NotificationSystem.requestPermission();if(!granted)return}NotificationSystem.send('üß™ Test','Questa √® una notifica di test!','üß™','test');showToast('‚úÖ Notifica di test inviata!','success')};
window.NotificationSystem=NotificationSystem;
window.showCompletionModal=showCompletionModal;
window.closeCompletionModal=closeCompletionModal;
window.confirmTaskCompletion=confirmTaskCompletion;
console.log('‚úÖ Focusly ADHD v2.1 ready - ¬© 2025 Edoardo Lucchina');
</script>
</body>
</html>